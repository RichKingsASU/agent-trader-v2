# Define scripts and their associated risk policies.
# This file is used to classify scripts based on their potential impact.

# Risk levels:
#   SAFE: Scripts that pose minimal risk.
#   HIGH: Scripts that could impact services or require careful monitoring.
#   MUST_LOCK: Scripts that require explicit local opt-in and pose significant risk.

scripts:
  # MUST_LOCK scripts: Require explicit local opt-in and pose significant risk.
  scripts/agent_executor.py:
    risk: MUST_LOCK
    note: "Runs arbitrary shell commands from a task file (high blast radius)."
  scripts/place_test_order.py:
    risk: MUST_LOCK
    note: "Places a broker order (even if paper)."
  scripts/insert_paper_order.py:
    risk: MUST_LOCK
    note: "Places a broker order and/or writes trading artifacts."
  scripts/submit_option_intent_paper.py:
    risk: MUST_LOCK
    note: "Submits option intents for paper execution, requiring explicit unlock."
  backend/strategy_service/scripts/insert_paper_order.py:
    risk: MUST_LOCK
    note: "Writes paper order rows to the database."
  scripts/init_shadow_mode_config.py:
    risk: MUST_LOCK
    note: "Mutates runtime safety posture (shadow mode) in Firestore."

  # HIGH risk scripts: Blocked in CI/runtime-like contexts.
  scripts/emit_chaos_pubsub_events.py:
    risk: HIGH
    note: "Emits events to an HTTP endpoint; can impact services."
  cloudrun_consumer/scripts/load_test_pubsub_push.py:
    risk: HIGH
    note: "Load tests an HTTP endpoint; can cause denial-of-service."
  scripts/seed_whale_flow_data.py:
    risk: HIGH
    note: "Writes test data to Firestore."
  scripts/seed_sentiment_data.py:
    risk: HIGH
    note: "Writes seed data (may mutate Firestore)."
  scripts/populate_whale_flow_test_data.py:
    risk: HIGH
    note: "Populates test data (mutating operation)."
  scripts/populate_institutional_features_data.py:
    risk: HIGH
    note: "Populates institutional features data (mutating operation)."

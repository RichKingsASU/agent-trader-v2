# Cloud Run env-vars file (YAML) for market ingestion.
#
# Copy to a local, untracked file (example):
#   cp infra/cloudrun/env/market_ingest.env.yaml.example ./market_ingest.env.yaml
# Then fill values and pass to deploy script via:
#   ENV_VARS_FILE=./market_ingest.env.yaml ./infra/cloudrun/deploy_market_ingest.sh
#
# IMPORTANT: do not commit real values.

# Firebase / Firestore (ADC uses attached service account)
FIREBASE_PROJECT_ID: ""

# Vertex AI (Gemini)
VERTEX_AI_MODEL_ID: "gemini-2.5-flash"
VERTEX_AI_LOCATION: "us-central1"
# Prefer mapping Vertex project to your Firebase project id.
VERTEX_AI_PROJECT_ID: ""

# Alpaca credentials
# Canonical (official Alpaca SDK env vars):
APCA_API_KEY_ID: ""
APCA_API_SECRET_KEY: ""
APCA_API_BASE_URL: "https://paper-api.alpaca.markets"
#
# Back-compat aliases (still accepted by repo env normalization; prefer APCA_* above):
# ALPACA_API_KEY: ""
# ALPACA_SECRET_KEY: ""

# Ingestion config
MONITORED_SYMBOLS: ""  # e.g. "SPY,IWM"
ALPACA_DATA_FEED: ""  # "iex" or "sip"
DRY_RUN: ""           # "1" for dry-run, "0" for live writes

# Repo-wide safety hard lock (required by backend/common/agent_mode_guard.py)
AGENT_MODE: "OFF"        # OFF|OBSERVE|EVAL|PAPER (EXECUTE is forbidden)
TRADING_MODE: "paper"    # must be exactly "paper"

# Ingest kill-switch (soft pause; default enabled if unset)
# - Set to "0" to pause ingestion without redeploying.
INGEST_ENABLED: ""     # "1" enabled, "0" paused

# Optional tuning (leave blank to use defaults)
PER_SYMBOL_MIN_INTERVAL_MS: ""
GLOBAL_WRITES_PER_SEC: ""
GLOBAL_BURST: ""
FLUSH_INTERVAL_MS: ""
HEARTBEAT_INTERVAL_S: ""
INGEST_ENABLED_POLL_S: ""  # default "5"
FIRESTORE_LIVE_QUOTES_COLLECTION: ""
STOP_AFTER_SECONDS: ""
RECONNECT_BACKOFF_BASE_S: ""
RECONNECT_BACKOFF_MAX_S: ""
LOG_LEVEL: ""

